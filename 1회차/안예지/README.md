# í”„ë¡œì íŠ¸ 02 - íŒŒì´ì¬ ê¸°ë°˜ ë°ì´í„° í™œìš©

## í›„ê¸°

 ### 1. ì½”ë“œ ë° í•´ì„¤



#### 00. API ë¬¸ì„œì™€ requests í™œìš©(ì—°ìŠµ)

> API ì‚¬ì´íŠ¸ë¡œ ì›í•˜ëŠ” ë°ì´í„° ê°€ì ¸ì™€ì„œ ì¶œë ¥í•˜ê¸°

```python
# API ë¬¸ì„œì™€ requests í™œìš©(ì—°ìŠµ)
# BTC(ë¹„íŠ¸ì½”ì¸)ì˜ KRW(ì›) ì „ì¼ì¢…ê°€ ì¶œë ¥

import requests
# URL ìƒì„±
order_currency = 'BTC'
payment_currency = 'KRW'
URL = f'https://api.bithumb.com/public/ticker/{order_currency}_{payment_currency}'
# ìš”ì²­ì„ ë³´ë‚´ì„œ
response = requests.get(URL)
# ì‘ë‹µ ë°›ì€ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
# print(response)

# .json() ë©”ì„œë“œëŠ” í…ìŠ¤íŠ¸ í˜•ì‹ì˜ JSON íŒŒì¼ì„ íŒŒì´ì¬ ë°ì´í„° íƒ€ì…ìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.
# print(response.json())

data = response.json()

print(data.get('data').get('prev_closing_price'))

```



#### 01. ì¸ê¸° ì˜í™” ì¡°íšŒ

> api_keyë¥¼ ë°œê¸‰ ë°›ì•„ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ ì¶œë ¥í•˜ê¸° 

```python
import os
from dotenv import load_dotenv
import requests


load_dotenv()

# ì¸ê¸° ì˜í™” ëª©ë¡ì˜ ê°œìˆ˜ ì¶œë ¥
# í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ëª©ë¡(Get Populations)ì— ë°ì´í„°ë¥¼ ìš”ì²­

def popular_count():
    
    BASE_URL = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    params = {
        'api_key': os.getenv('TMDB'),
        'language' : 'ko-KR'        
    }
    
    response = requests.get(BASE_URL+path, params=params).json()
    # /movie/popularì— ìˆëŠ” ê°’ jsonìœ¼ë¡œ ë¶ˆëŸ¬ì™€ì„œ response ì— ì €ì¥í•©ë‹ˆë‹¤.
    # print(response.keys())
    # responseì˜ key ëª©ë¡ í™•ì¸
    # print(type(response['results'])) # <class 'list'>
    cnt = 0
    for n in response['results']:
        n.get('id')
        cnt += 1
    # print(cnt)
    return cnt

# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì˜ ê°œìˆ˜ ë°˜í™˜
    """
    print(popular_count())
    # 20
```



#### 02. íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ì¸ê¸° ì˜í™” ì¡°íšŒ

> ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ í™œìš©í•˜ì—¬ ì›í•˜ëŠ” ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ê¸°

```python
import os
from dotenv import load_dotenv
import requests
from pprint import pprint

load_dotenv()

# ì¸ê¸° ì˜í™” ëª©ë¡ ì¤‘ í‰ì ì´ 8ì  ì´ìƒì¸ ì˜í™” ëª©ë¡ì„ ì¶œë ¥
# í˜„ì¬ ì¸ê¸° ìˆëŠ” ì˜í™” ëª©ë¡(Get Populations) ë°ì´í„°ë¥¼ ìš”ì²­
# í‰ì (vote_average)ì´ 8ì  ì´ìƒì¸ ì˜í™” ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜

def vote_average_movies():
    
    BASE_URL = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    params = {
        'api_key': os.getenv('TMDB'),
        'language' : 'ko-KR'        
    }
    
    response = requests.get(BASE_URL+path, params=params).json()
    # print(response)
    # responseì˜ íƒ€ì…ì€ ë”•ì…”ë„ˆë¦¬
    result_list = response['results']
    # ë”•ì…”ë„ˆë¦¬ì´ë¯€ë¡œ 'results'í‚¤ ê°’ìœ¼ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.
    # print(type(result_list) # <class 'list'>
    # result_listì˜ íƒ€ì…ì€ list
    choice_movie = []
    for dict in result_list:
          # ë¦¬ìŠ¤íŠ¸ resultë¥¼ ìˆœíšŒí•˜ë©´ì„œ
          if int(dict['vote_average']) >= 8:
            # 'vote_average' í‚¤ì˜ ê°’ì´ 8ì´ìƒì´ë©´, (í‰ì ì´ 8ì  ì´ìƒì´ë©´) 
            # ê°’ì´ ë¬¸ìì—´ì¼ìˆ˜ë„ ìˆìœ¼ë‹ˆ int í˜• ë³€í™˜
                choice_movie += [dict]
                # í•´ë‹¹ ë”•ì…”ë„ˆë¦¬ë¥¼ choice_movie ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•©ë‹ˆë‹¤.(ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€)
    return choice_movie
    # 8ì  ì´ìƒ ì˜í™”ê°€ ëª¨ì¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.  


# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì¤‘ vote_averageê°€ 8 ì´ìƒì¸ ì˜í™”ëª©ë¡ ë°˜í™˜
    (ì£¼ì˜) popular ì˜í™”ëª©ë¡ì˜ ê²½ìš° ì‹œê¸°ì— ë”°ë¼ ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(vote_average_movies())
    """
    [{'adult': False,
      'backdrop_path': '/ocUp7DJBIc8VJgLEw1prcyK1dYv.jpg',
      'genre_ids': [28, 12, 878],
      'id': 634649,
      'original_language': 'en',
      'original_title': 'Spider-Man: No Way Home',
      'overview': 'ë¯¸ìŠ¤í…Œë¦¬ì˜¤ì˜ ê³„ëµìœ¼ë¡œ ì„¸ìƒì— ì •ì²´ê°€ íƒ„ë¡œë‚œ ìŠ¤íŒŒì´ë”ë§¨ í”¼í„° íŒŒì»¤ëŠ” í•˜ë£¨ ì•„ì¹¨ì— í‰ë²”í•œ ì¼ìƒì„ ìƒê²Œ ëœë‹¤. ë¬¸ì œë¥¼ '
                  'í•´ê²°í•˜ê¸° ìœ„í•´ ë‹¥í„° ìŠ¤íŠ¸ë ˆì¸ì§€ë¥¼ ì°¾ì•„ê°€ ë„ì›€ì„ ì²­í•˜ì§€ë§Œ ëœ»í•˜ì§€ ì•Šê²Œ ë©€í‹°ë²„ìŠ¤ê°€ ì—´ë¦¬ë©´ì„œ ê°ê¸° ë‹¤ë¥¸ ì°¨ì›ì˜ '
                  'ë¶ˆì²­ê°ë“¤ì´ ë‚˜íƒ€ë‚œë‹¤. ë‹¥í„° ì˜¥í† í¼ìŠ¤ë¥¼ ë¹„ë¡¯í•´ ìŠ¤íŒŒì´ë”ë§¨ì—ê²Œ ê¹Šì€ ì›í•œì„ ê°€ì§„ ìˆ™ì ë“¤ì˜ ê°•ë ¥í•œ ê³µê²©ì— í”¼í„° íŒŒì»¤ëŠ” '
                  'ì‚¬ìƒ ìµœì•…ì˜ ìœ„ê¸°ë¥¼ ë§ê²Œ ë˜ëŠ”ë°â€¦',
      'popularity': 1842.592,
      'poster_path': '/voddFVdjUoAtfoZZp2RUmuZILDI.jpg',
      'release_date': '2021-12-15',
      'title': 'ìŠ¤íŒŒì´ë”ë§¨: ë…¸ ì›¨ì´ í™ˆ',
      'video': False,
      'vote_average': 8.1,
      'vote_count': 13954},
    ..ìƒëµ..,
    }]
    """
```



#### 03.  íŠ¹ì • ì¡°ê±´ì— ë§ëŠ” ì¸ê¸° ì˜í™” ì¡°íšŒ

> sorted() í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ í‚¤ì˜ 'ê°’'ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•˜ê¸°

```python
import os
from dotenv import load_dotenv
import requests
from pprint import pprint

load_dotenv()

# ì¸ê¸° ì˜í™” ëª©ë¡ì„ í‰ì ì´ ë†’ì€ ìˆœìœ¼ë¡œ 5ê°œ ì •ë ¬í•˜ëŠ” ë°ì´í„° ëª©ë¡ì„ ë°˜í™˜
# ì˜í™” ëª©ë¡(Get Populations) ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ 
# í‰ì ì´ ë†’ì€ ì˜í™” 5ê°œì˜ ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±

def ranking():
      
    BASE_URL = 'https://api.themoviedb.org/3'
    path = '/movie/popular'
    params = {
        'api_key': os.getenv('TMDB'),
        'language' : 'ko-KR'        
    }
    
    response = requests.get(BASE_URL+path, params=params).json()
    # ìš”ì²­ì„ í•´ì„œ responseë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤. responseëŠ” ë”•ì…”ë„ˆë¦¬
    result_list = response['results']
    # ë”•ì…”ë„ˆë¦¬ì—ì„œ 'results' í‚¤ì˜ ê°’ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ê³  result_listì— í• ë‹¹í•©ë‹ˆë‹¤.
    sort_list = (sorted(result_list, key = lambda x:-x.get('vote_average')))
    # sorted() ì˜ keyë¥¼ í†µí•´ ì •ë ¬í•  ê¸°ì¤€ì„ ì •í•©ë‹ˆë‹¤.
    # result_listì˜ ìš”ì†ŒëŠ” ë”•ì…”ë„ˆë¦¬ì´ë¯€ë¡œ 'vote_average'ì˜ í‚¤ ê°’ì„ ë°˜í™˜í•˜ëŠ” 
    # lambda í•¨ìˆ˜ë¥¼ ì§€ì •í•©ë‹ˆë‹¤.
    # sorted()ì˜ keyëŠ” í•´ë‹¹ í•¨ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë¯€ë¡œ 'vote_average'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœìœ¼ë¡œ ìš”ì†Œë¥¼ ì •ë ¬í•©ë‹ˆë‹¤.
    # ë†’ì€ ìˆœì´ë¯€ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬ì„ ìœ„í•´ ë§ˆì´ë„ˆìŠ¤(-)ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
    rank_movie = sort_list[:5]
    # ë‚´ë¦¼ì°¨ìˆœ 5ê°œ ì˜í™” ì •ë ¬ì´ë¯€ë¡œ í•´ë‹¹ ë¦¬ìŠ¤íŠ¸ë¥¼ ì¸ë±ìŠ¤ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.
    return(rank_movie)
          
          
         

# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    popular ì˜í™”ëª©ë¡ì„ ì •ë ¬í•˜ì—¬ í‰ì ìˆœìœ¼ë¡œ 5ê°œ ì˜í™” ë°˜í™˜
    (ì£¼ì˜) popular ì˜í™”ëª©ë¡ì˜ ê²½ìš° ì‹œê¸°ì— ë”°ë¼ ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(ranking())
    """
    [{'adult': False,
      'backdrop_path': '/odJ4hx6g6vBt4lBWKFD1tI8WS4x.jpg',
      'genre_ids': [28, 18],
      'id': 361743,
      'original_language': 'en',
      'original_title': 'Top Gun: Maverick',
      'overview': 'ìµœê³ ì˜ íŒŒì¼ëŸ¿ì´ì ì „ì„¤ì ì¸ ì¸ë¬¼ ë§¤ë²„ë¦­ì€ ìì‹ ì´ ì¡¸ì—…í•œ í›ˆë ¨í•™êµ êµê´€ìœ¼ë¡œ ë°œíƒëœë‹¤. ê·¸ì˜ ëª…ì„±ì„ ëª¨ë¥´ë˜ íŒ€ì›ë“¤ì€ '
                  'ë§¤ë²„ë¦­ì˜ ì§€ì‹œë¥¼ ë¬´ì‹œí•˜ì§€ë§Œ ì‹¤ì „ì„ ë°©ë¶ˆì¼€ í•˜ëŠ” ìƒê³µ í›ˆë ¨ì—ì„œ ëˆˆìœ¼ë¡œ ë´ë„ ë¯¿ê¸° í˜ë“  ì „ì„¤ì ì¸ ì¡°ì¢… ì‹¤ë ¥ì— ëª¨ë‘ê°€ '
                  'ì••ë„ëœë‹¤. ë§¤ë²„ë¦­ì˜ ì§€íœ˜ ì•„ë˜ ê²¬ê³ í•œ íŒ€ì›Œí¬ë¥¼ ìŒ“ì•„ê°€ë˜ íŒ€ì›ë“¤ì—ê²Œ êµ­ê²½ì„ ë›°ì–´ë„˜ëŠ” ìœ„í—˜í•œ ì„ë¬´ê°€ ì£¼ì–´ì§€ì ë§¤ë²„ë¦­ì€ '
                  'ìì‹ ì´ ê°€ë¥´ì¹œ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ë§ˆì§€ë§‰ì´ ë ì§€ ëª¨ë¥¼ í•˜ëŠ˜ ìœ„ ë¹„í–‰ì— ë‚˜ì„œëŠ”ë°â€¦',
      'popularity': 911.817,
      'poster_path': '/jMLiTgCo0vXJuwMzZGoNOUPfuj7.jpg',
      'release_date': '2022-06-22',
      'title': 'íƒ‘ê±´: ë§¤ë²„ë¦­',
      'video': False,
      'vote_average': 8.4,
      'vote_count': 1463},
    ..ìƒëµ..,
    }]
    """

```



#### 04. ì˜í™” ì¡°íšŒ ë° ì¶”ì²œ ì˜í™” ì¡°íšŒ

> requestsë¡œ ë°›ì€ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ APIì˜ ë‹¤ë¥¸ ê°’ë„ ìš”ì²­í•˜ê¸°

```PYTHON
import os
from dotenv import load_dotenv
import requests
from pprint import pprint

load_dotenv()

# ì˜í™” ì œëª©ìœ¼ë¡œ ê²€ìƒ‰ì„ í•˜ì—¬ ì¶”ì²œ ì˜í™” ëª©ë¡ì„ ì¶œë ¥
# TMDBì—ì„œ ì˜í™”ì œëª©ìœ¼ë¡œ ì˜í™”ë¥¼ ê²€ìƒ‰(Search Movies)
# ì¶”ì²œ ì˜í™” ëª©ë¡ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±

def recommendation(title):
    
    BASE_URL = 'https://api.themoviedb.org/3'
    path = '/search/movie'
    params = {
        'api_key': os.getenv('TMDB'),
        'language' : 'ko-KR',
        'query' : title      
    }
        
    response = requests.get(BASE_URL + path, params=params).json().get('results')
    if len(response) == 0:
        return 
    # responseì— ê°’ì´ ì—†ë‹¤ë©´ Noneì„ ë°˜í™˜í•˜ë©° í•¨ìˆ˜ ì¢…ë£Œí•©ë‹ˆë‹¤.
    # responseì˜ íƒ€ì…ì€ ë”•ì…”ë„ˆë¦¬ê°€ ì•„ë‹Œ ë¦¬ìŠ¤íŠ¸
    
    path_recommend = f'/movie/{response[0].get("id")}/recommendations'
    # response[0] ë²ˆì§¸ ì¸ë±ìŠ¤ì— ì ‘ê·¼í•˜ë©´ ì²« ë²ˆì§¸ ì˜í™” ì •ë³´ì˜ ë”•ì…”ë„ˆë¦¬ì´ë¯€ë¡œ 
    # .get í•¨ìˆ˜ë¡œ 'id'ì˜ ê°’ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
    
    # ìš”ì²­í•˜ëŠ” ê°’ì´ ë‹¬ë¼ì§€ë¯€ë¡œ paramsì˜ ê°’ë„ ì¬ì„¤ì •í•©ë‹ˆë‹¤.
    params_2 = {
        'api_key': 'e0c0d3622b43ae47c6135b0a8f2cb8f2',
        'language' : 'ko-KR'        
    }
    
    # ê°’ì„ ìš”ì²­í•´ì„œ ë°›ì•„ì˜µë‹ˆë‹¤.
    response = requests.get(BASE_URL + path_recommend, params=params_2).json().get('results')
    recommend_list = []
    for t in response:
        recommend_list += [t.get('title')]
        # ì¶”ì²œ ì˜í™” ëª©ë¡ì— 'title'í‚¤ì˜ ê°’ì„ ì¶”ê°€í•©ë‹ˆë‹¤.
    return recommend_list
    

        
    

# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    ì œëª©ì— í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì˜í™”ì˜ idë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œ ì˜í™” ëª©ë¡ êµ¬ì„±
    ì¶”ì²œ ì˜í™”ê°€ ì—†ì„ ê²½ìš° []ë¥¼ ë°˜í™˜
    ì˜í™” id ê²€ìƒ‰ì— ì‹¤íŒ¨í•  ê²½ìš° Noneì„ ë°˜í™˜
    (ì£¼ì˜) ì¶”ì²œ ì˜í™”ì˜ ê²½ìš° ì•„ë˜ ì˜ˆì‹œ ì¶œë ¥ê³¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŒ
    """
    pprint(recommendation('ê¸°ìƒì¶©'))
    # ['ì¡°ì»¤', '1917', 'ì¡°ì¡° ë˜ë¹—', ..ìƒëµ.., 'ì‚´ì¸ì˜ ì¶”ì–µ', 'í„í”„ í”½ì…˜']
    pprint(recommendation('ê·¸ë˜ë¹„í‹°'))
    # []
    pprint(recommendation('ê²€ìƒ‰í•  ìˆ˜ ì—†ëŠ” ì˜í™”'))
    # None

```



#### 05. ì¶œì—°ì§„ ë° ì—°ì¶œì§„ ë°ì´í„° ì¡°íšŒ

> ê°™ì€ ë”•ì…”ë„ˆë¦¬ ë‚´ì— ì„œë¡œ ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ìš”ì²­í•´ì„œ ë°›ì•„ì˜¤ê¸°

```python
import os
from dotenv import load_dotenv
import requests
from pprint import pprint

load_dotenv()

# ì˜í™” ì œëª©ìœ¼ë¡œ ê²€ìƒ‰ì„ í•˜ì—¬ í•´ë‹¹ ì˜í™”ì˜ ì¶œì—°ì§„(cast) ê·¸ë¦¬ê³  ìŠ¤íƒœí”„(crew) ì¤‘ 'ì—°ì¶œì§„'ìœ¼ë¡œ êµ¬ì„±ëœ ëª©ë¡ë§Œì„ ì¶œë ¥
# requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì˜í™”ì œëª©ìœ¼ë¡œ ê²€ìƒ‰
# ì‘ë‹µ ë°›ì€ ê²°ê³¼ ì¤‘ ì²« ë²ˆì§¸ ì˜í™”ì˜ idê°’ì„ í™œìš©í•˜ì—¬ í•´ë‹¹ ì˜í™”ì— ëŒ€í•œ ì¶œì—°ì§„ê³¼ ìŠ¤íƒœí”„(cast and crew) ëª©ë¡ì„ ê°€ì ¸ì˜´
# ì¶œì—°ì§„ ì¤‘ cast_id ê°’ì´ 10ë¯¸ë§Œì¸ ì¶œì—°ì§„ë§Œ ì¶”ì¶œí•˜ê³ ,
# ì—°ì¶œì§„ì€ ë¶€ì„œ(department)ê°€ directingì¸ ë°ì´í„°ë§Œ ì¶”ì¶œ
# castì™€ directingìœ¼ë¡œ êµ¬ì„±ëœ ë”•ì…”ë„ˆë¦¬ì— ì¶”ì¶œëœ ê°’ì„ 'ë¦¬ìŠ¤íŠ¸'ì— ì¶œë ¥í•˜ëŠ” í•¨ìˆ˜ ì‘ì„±

def credits(title):
    
    BASE_URL = 'https://api.themoviedb.org/3'
    path = '/search/movie'
    params = {
        'api_key': 'e0c0d3622b43ae47c6135b0a8f2cb8f2',
        'language' : 'ko-KR',
        'query' : title      
    }
        
    response = requests.get(BASE_URL + path, params=params).json().get('results')
    # json()ìœ¼ë¡œ ë³€í™˜í•œ ê°’= ë”•ì…”ë„ˆë¦¬ì—ì„œ 'result' í‚¤ì˜ ê°’= ë¦¬ìŠ¤íŠ¸ ì„ responseì— í• ë‹¹í•©ë‹ˆë‹¤.
    if len(response) == 0:
        return 
    # í‚¤ì˜ ê°’ì´ ì—†ë‹¤ë©´(ê²€ìƒ‰í•œ ì˜í™”ê°€ ì—†ì„ ê²½ìš°) í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•˜ë©° None ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
    path_credits = f'/movie/{response[0].get("id")}/credits'
    params_2 = {
        'api_key': os.getenv('TMDB'),
        'language' : 'ko-KR'
    } 
    response_cast = requests.get(BASE_URL + path_credits, params = params_2).json().get('cast')
    # json()ìœ¼ë¡œ ë³€í™˜í•œ ê°’ = ë”•ì…”ë„ˆë¦¬ì—ì„œ 'cast'í‚¤ì˜ ê°’= ë¦¬ìŠ¤íŠ¸ë¥¼ response_castì— í• ë‹¹í•©ë‹ˆë‹¤.
    # 'cast'ë¦¬ìŠ¤íŠ¸ ì•ˆì— ìˆëŠ” ë”•ì…”ë„ˆë¦¬ì˜ 'cast_id'ì˜ í‚¤ê°’ì— ì ‘ê·¼í•©ë‹ˆë‹¤.
    response_crew = requests.get(BASE_URL + path_credits, params = params_2).json().get('crew')
    # 'crew' ë¦¬ìŠ¤íŠ¸ ì•ˆì— ìˆëŠ” ë”•ì…”ë„ˆë¦¬ì˜ 'department'ì˜ í‚¤ê°’ì— ì ‘ê·¼í•©ë‹ˆë‹¤.
    
    # cast_id ì˜ ê°’ì´ 10 ë¯¸ë§Œì¸ ì¶œì—°ì§„ë“¤ì˜ ì´ë¦„ ë¦¬ìŠ¤íŠ¸
    cast_list = []
    # crew_list ì˜ ê°’ì´ Directingì¸ ì—°ì¶œì§„ë“¤ì˜ ì´ë¦„ ë¦¬ìŠ¤íŠ¸
    crew_list = []
    credit_info = {"cast" : cast_list  , "crew" : crew_list }
    # ê°ê°ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë”•ì…”ë„ˆë¦¬ì˜ ê°’ìœ¼ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.
    for cast in response_cast:
        if cast.get('cast_id') < 10:
            credit_info["cast"] += [cast.get('name')]
            # cast_list ëŠ” ë¦¬ìŠ¤íŠ¸ì˜ í˜•íƒœì´ë¯€ë¡œ ë¦¬ìŠ¤íŠ¸ ì¶”ê°€ í˜•íƒœë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.
    for crew in response_crew:
        if crew.get('department') == 'Directing':
            credit_info["crew"] += [crew.get('name')]
            # crew_list ì—­ì‹œ ë§ˆì°¬ê°€ì§€
   
    return credit_info
    # {cast : ê°’ , crew: ê°’}ì˜ í˜•íƒœë¥¼ ê°€ì§„ ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    
        
    


# ì•„ë˜ì˜ ì½”ë“œëŠ” ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
if __name__ == '__main__':
    """
    ì œëª©ì— í•´ë‹¹í•˜ëŠ” ì˜í™”ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì˜í™” idë¥¼ í†µí•´ ì˜í™” ìƒì„¸ì •ë³´ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì£¼ì—°ë°°ìš° ëª©ë¡(cast)ê³¼ ìŠ¤íƒœí”„(crew) ì¤‘ ì—°ì¶œì§„ ëª©ë¡ì„ ë°˜í™˜
    ì˜í™” id ê²€ìƒ‰ì— ì‹¤íŒ¨í•  ê²½ìš° Noneì„ ë°˜í™˜
    """
    pprint(credits('ê¸°ìƒì¶©'))
    # {'cast': ['Song Kang-ho', 'Lee Sun-kyun', ..., 'Jang Hye-jin'], 'crew': ['Bong Joon-ho', 'Park Hyun-cheol', ..., 'Yoon Young-woo']}
    pprint(credits('ê²€ìƒ‰í•  ìˆ˜ ì—†ëŠ” ì˜í™”'))
    # None

```



### 2. ë°°ìš´ ì , ëŠë‚€ ì 



**1.  APIëŠ” ì£¼ì–´ì§„ëŒ€ë¡œë§Œ í•˜ë©´ ë˜ëŠ”êµ¬ë‚˜.ğŸ“œ**

     ì´ë²ˆ í”„ë¡œì íŠ¸ê°€ ì§€ë‚œ ë²ˆë³´ë‹¤ ì‰½ê²Œ ëŠê»´ì§„ ì´ìœ ëŠ” ì–‘ì‹ì´ ì´ë¯¸ API ì‚¬ì´íŠ¸ì— ë‹¤ ì œì‹œë˜ì–´ ìˆê³ , ê°•ì‚¬ë‹˜ì´ ìˆ˜ì—… ì‹œê°„ì— ë‹¤ë¤„ì£¼ì‹  ë¶€ë¶„ì—ì„œ í¬ê²Œ ë‹¤ë¥´ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë¼ê³  ìƒê°í•œë‹¤. ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê¸° ìœ„í•´ ì–´ë–¤ urlì„ ì¶”ê°€í•´ì•¼ í•˜ëŠ”ì§€ ì°¾ëŠ” ê²ƒë„ APIë¼ëŠ” ì‹œìŠ¤í…œì´ ë‚¯ì„¤ì—ˆê¸° ë•Œë¬¸ì´ì§€, ì–´ë ¤ìš´ ì¼ì€ ì•„ë‹Œ ê²ƒ ê°™ì•˜ë‹¤.



**2. ìµìˆ™í•´ì§€ëŠ” ê²ƒì´ ìµœê³ ì˜ ì„±ê³¼ ğŸ’ª**

     ë˜í•œ ì´ë²ˆ í”„ë¡œì íŠ¸ê°€ ë¹„êµì  ìˆ˜ì›”í–ˆë˜ ê²ƒë„, ë¬¸ì œ ë°°ì¹˜ì˜ ì ì ˆí•¨ ë•ë¶„ì´ë‹¤. 00.(ì—°ìŠµ)ë¬¸ì œë¥¼ í†µí•´ APIì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì„ ì—°ìŠµí•˜ê³ , api_keyë¥¼ ë°œê¸‰ë°›ì•„ ë°ì´í„°ë¥¼ ìš”ì²­í•˜ê³  ë°›ì•„ì˜¤ëŠ” ë° ìµìˆ™í•´ì¡Œë‹¤.
    03.sort()ì˜ keyë¥¼ í™œìš©í•˜ëŠ” ë¬¸ì œë¥¼ í†µí•´ lambdaë¥¼ í•œ ë²ˆì´ë¼ë„ ë” í™œìš©í•´ ë³¼ ìˆ˜ ìˆì—ˆê³ , ê·¸ ì´í›„ ë°›ì•„ì˜¨ ë°ì´í„°ë“¤ì„ ì›í•˜ëŠ” ë°ì´í„°ë§Œ ì¶”ì¶œ ë° ì¶œë ¥í•˜ë„ë¡ ë‹¨ê³„ì ìœ¼ë¡œ ë¬¸ì œì˜ ìš”êµ¬ì‚¬í•­ì´ ì¶”ê°€ë˜ë©´ì„œ APIëŠ” ì´ì „ì˜ ë°˜ë³µë¬¸ì²˜ëŸ¼ ì¹œìˆ™í•´ì§ˆ ìˆ˜ ìˆì—ˆë‹¤. ê·¸ë¦¬ê³  ê·¸ê²ƒì´ ì´ë²ˆ í”„ë¡œì íŠ¸ì˜ ìµœê³  ì„±ê³¼ë¼ê³  ìƒê°í•œë‹¤.



**3. í•˜ì§€ë§Œ ë‚˜ë¥¼ ìŠì§€ë§ì•„ì£¼ì„. ğŸ˜­**

    ë‹¹ì—°íˆ ë¬¼ë¡  ê¸°ë³¸ì ì¸ ë‹¨ê³„ì„ì— ë¶ˆê³¼í•˜ê² ì§€ë§Œ APIì—ì„œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ê²ƒì´ ìµìˆ™í•´ì§€ë©´ì„œ ì²˜ìŒì—” í•œ ì¤„ í•œ ì¤„ ì ì–´ë‚˜ê°€ë˜ ì£¼ì„ë„ ì–´ëŠìƒŒê°€ ì°¨ì¸° ë›°ì–´ ë„˜ì–´ë²„ë¦¬ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìˆëŠ” ëª¨ìŠµì„ ë°œê²¬í•  ìˆ˜ ìˆì—ˆë‹¤. 
    ë¶„ëª… ì¢‹ì€ ì¼ì´ì§€ë§Œ, ì•„ì§ ìŠµê´€ë„ ì±„ ë‹¤ì ¸ì§€ì§€ ì•Šì€ ì´ˆê¸‰ìƒí•œí…ŒëŠ” ê²½ê³„í•´ì•¼ ì¼ì´ë¼ê³  ìƒê°í•œë‹¤. ì£¼ì„ì€ ë‚´ê°€ ì–´ë–¤ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³  ìˆì—ˆëŠ”ì§€, ì–´ë–¤ ì ‘ê·¼ì„ í•˜ê³  ìˆì—ˆëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ê³ ë§ˆìš´ ì¹œêµ¬ë‹¤. ëŠ˜, ì´ˆì‹¬ì„ ìŠì§€ ë§ ê²ƒ.



ë‘ ë²ˆì§¸ í”„ë¡œì íŠ¸ë¥¼ ë§ˆì§€ë§‰ìœ¼ë¡œ íŒŒì´ì¬ ê³¼ëª© ê°•ì˜ëŠ” ì •ì‹ì ìœ¼ë¡œ ëì´ ë‚¬ë‹¤.

ê·¸ëŸ°ë° ë²Œì¨ë¶€í„° ê¸°ì–µì´ ê°€ë¬¼ê°€ë¬¼í•˜ë‹¤. ë°¥ ë¨¹ë“¯ì´ ë°˜ë³µë¬¸ì„ ì“°ê³  ìˆì§€ë§Œ, ê·¸ë˜ì„œ ê·¸ëŸ°ì§€ í•¨ìˆ˜ì— ëŒ€í•œ ê°œë…ì´ ì•½í•˜ë‹¤. íŒŒì´ì¬ code_up ë¬¸ì œí’€ì´ë„ ë‹¤ ëª» ëëƒˆê³  ë§ì´ë‹¤.

íŒŒì´ì¬ ê°•ì˜ëŠ” ëë‚¬ì§€ë§Œ, ê°œë…ì´ ì•½í•˜ë‹¤ë³´ë‹ˆ Notion - ìë£Œê³µìœ  íƒ­ì€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§ˆ ì¼ì´ ì—†ì„ ê±° ê°™ë‹¤.

ë‹¤ìŒ ì‹œê°„ë¶€í„°ëŠ” ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ì´ë¥¼ ë³¸ê²©ì ìœ¼ë¡œ í•˜ê²Œ ë˜ëŠ”ë°, ê±±ì •ì´ ì•ì„ ë‹¤. í•˜ì§€ë§Œ ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ ì´í›„ ë”•ì…”ë„ˆë¦¬ê°€ ì¹œìˆ™í•´ì¡Œê³ , ë‘ ë²ˆì§¸ í”„ë¡œì íŠ¸ ì´í›„ APIê°€ ì¹œìˆ™í•´ì§„ ê²ƒì²˜ëŸ¼ ì•Œê³ ë¦¬ì¦˜ê³¼ë„ ì‹œê°„ ëì— í’€ ìˆ˜ ìˆë‹¤ëŠ” ìì‹ ê°ê³¼ ì¹œìˆ™í•¨ì´ ì°¾ì•„ì˜¤ê¸°ë¥¼ ê¸°ëŒ€í•œë‹¤.

ê·¸ë¦¬ê³  ì´ì œ ë‹¤ë¥¸ ìˆ˜ê°•ìƒì˜ ì½”ë“œ ë¦¬ë·°ë¥¼ ë³¸ê²©ì ìœ¼ë¡œ ì§„í–‰í•´ë´ì•¼ í•  ê²ƒ ê°™ë‹¤. ì§€ê¸ˆê¹Œì§€ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ëŠ” ê²ƒ ìì²´ë„ ì–´ë µê²Œ ëŠê»´ì¡Œê³ , ì½”ë“œë¥¼ ë´ë„ ì´í•´í•˜ëŠ” ë° ê¸‰ê¸‰í–ˆë‹¤. 04.ì˜ ë¬¸ì œëŠ” ë‹¤ë¥¸ ì½”ë“œë¥¼ ì°¸ê³ í•´ì„œ í’€ì—ˆëŠ”ë°, ì ‘ê·¼ ë°©ë²•ì´ ê°™ìœ¼ë‹ˆ ì½”ë“œë¥¼ ì´í•´í•˜ëŠ” ê²Œ í•œê²° ì‰½ê²Œ ëŠê»´ì¡Œë‹¤. 'ë¹„êµ'ë¼ëŠ” ê²Œ ê°€ëŠ¥í•´ì§„ ì‹œì ì´ ë˜ë‹ˆ ì–´ì œë³´ë‹¤ëŠ” ë‚˜ì€ ì‚¬ëŒì´ ë˜ì—ˆêµ¬ë‚˜,ê°€ ëŠê»´ì§€ëŠ” ë¶€ë¶„ì´ì—ˆë‹¤. 

ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ í•´ê²°í•˜ëŠ” ê±°ë¡œë§Œ ê·¸ì¹˜ê¸°ë³´ë‹¤ëŠ” ê·¼ë³¸ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  í•™ìŠµí•´ì•¼ê² ë‹¨ ìƒê°ì´ ë“¤ì—ˆë‹¤. í•˜ë£¨ í•œ ë¬¸ì œë¼ë„ ë¯¸ì²˜ ìƒê° ëª»í•œ ë¶€ë¶„ì„ ë°œê²¬í•˜ê³  ë‹¤ìŒë¶€í„°ëŠ” ì–´ë–»ê²Œ ê³ ì¹ ì§€ ê³ ë¯¼í•´ë³´ëŠ” ì½”ë“œ ë¦¬ë·° ì‹œê°„ì„ ê°€ì ¸ì•¼ê² ë‹¤ëŠ” ê²°ì‹¬ì„ ë“¤ê²Œ í•˜ëŠ” ë‘ ë²ˆì§¸ ê°œì¸ í”„ë¡œì íŠ¸ì˜€ë‹¤.
